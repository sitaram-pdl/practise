import React from 'react';
import { useQuery } from '@tanstack/react-query';
import secureLocalStorage from 'react-secure-storage';
import cx from 'classnames';

import styles from './BestPractices.module.css';

const BestPractices = () => {
  const websiteId = secureLocalStorage.getItem('websiteId');

  const { data: insightData, isLoading } = useQuery(
    ['getPageInsightReport', websiteId],
    () => getPageInsightReport(websiteId),
    {
      enabled: !!websiteId,
    },
  );

  const data = [
    {
      name: 'Performance',
      value: insightData?.performanceScore * 100,
      subText: 'Tap to view status',
    },
    {
      name: 'Accessibility',
      value: insightData?.accessibilityScore * 100,
      subText: 'Tap to view status',
    },
    {
      name: 'Best Practices',
      value: insightData?.bestPracticeScore * 100,
      subText: 'Opened',
    },
    {
      name: 'SEO',
      value: insightData?.seoScore * 100,
      subText: 'Tap to view status',
    },
  ];

  const bestBractises = [
    {
      title: 'Optimize Your Pages',
      descriptions:
        'Websites need to be fast to be successful – and the quicker your website loads, the smaller its environmental impact. ',
      icon: (
        <svg
          width="118"
          height="62"
          viewBox="0 0 118 62"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M115.363 60.6427C116.819 60.6427 118.006 59.4614 117.944 58.0065C117.304 42.8818 111.178 28.5117 100.719 17.7619C89.6544 6.38913 74.6476 1.21427e-06 58.9998 0C43.3521 -1.21427e-06 28.3453 6.38913 17.2807 17.7618C6.82206 28.5117 0.695467 42.8818 0.0557178 58.0065C-0.00582088 59.4614 1.18046 60.6427 2.63664 60.6427H17.2583C18.7145 60.6427 19.8862 59.4608 19.979 58.0076C20.5985 48.3097 24.6215 39.1357 31.3485 32.2214C38.6821 24.6836 48.6286 20.4489 58.9998 20.4489C69.3711 20.4489 79.3176 24.6836 86.6512 32.2214C93.3781 39.1357 97.4011 48.3097 98.0207 58.0076C98.1135 59.4608 99.2852 60.6427 100.741 60.6427H115.363Z"
            fill="#1B9876"
          />
          <path
            d="M84.3755 8.78268C85.0056 7.49503 84.4937 5.93393 83.1924 5.33259C74.7753 1.44302 65.5758 -0.367906 56.3328 0.0619908C46.2342 0.531681 36.4224 3.66048 27.8384 9.14829C19.2545 14.6361 12.1864 22.2989 7.31197 31.4016C2.85062 39.7329 0.363943 49.0148 0.0370317 58.4942C-0.0131722 59.95 1.18305 61.1219 2.63964 61.1099L17.4258 60.9873C18.8815 60.9753 20.0431 59.7846 20.1249 58.3312C20.4595 52.3858 22.0817 46.5802 24.8858 41.3436C28.1029 35.3358 32.7679 30.2784 38.4333 26.6564C44.0987 23.0344 50.5745 20.9694 57.2396 20.6594C63.0097 20.3911 68.754 21.4458 74.0601 23.7331C75.4182 24.3186 77.0306 23.7934 77.6806 22.465L84.3755 8.78268Z"
            fill="#E8FEEA"
          />
          <path
            d="M45.1793 46.2387H52.0275V47.1668H45.1793V46.2387ZM51.2541 46.5902L52.0275 47.1668L48.062 56.3071H47.0214L51.2541 46.5902ZM55.9695 56.4759C55.2945 56.4759 54.7086 56.3446 54.2118 56.0821C53.7149 55.8103 53.3305 55.4306 53.0587 54.9431C52.7868 54.4556 52.6509 53.8838 52.6509 53.2275H53.6633C53.6633 53.9494 53.8696 54.5166 54.2821 54.929C54.7039 55.3415 55.2711 55.5478 55.9836 55.5478C56.4898 55.5478 56.9304 55.4447 57.3054 55.2384C57.6804 55.0228 57.971 54.7275 58.1773 54.3525C58.3835 53.9775 58.4866 53.5416 58.4866 53.0447C58.4866 52.576 58.3882 52.1541 58.1913 51.7791C57.9945 51.3948 57.7085 51.0901 57.3336 50.8651C56.9679 50.6401 56.5179 50.5276 55.9836 50.5276C55.5242 50.5276 55.0883 50.626 54.6758 50.8229C54.2727 51.0104 53.9352 51.2542 53.6633 51.5541L52.8618 51.301L54.0711 46.2387H58.9366V47.1668H54.2961L54.943 46.5902L53.9165 50.8229L53.579 50.7807C53.8696 50.4057 54.2399 50.1198 54.6899 49.9229C55.1399 49.7261 55.618 49.6276 56.1242 49.6276C56.8179 49.6276 57.4179 49.7823 57.9242 50.0917C58.4304 50.3917 58.8194 50.7995 59.0913 51.3151C59.3726 51.8213 59.5132 52.3885 59.5132 53.0166C59.5132 53.6916 59.3632 54.2916 59.0632 54.8165C58.7632 55.3322 58.346 55.74 57.8117 56.0399C57.2867 56.3306 56.6726 56.4759 55.9695 56.4759ZM65.7006 48.5449C65.7006 49.023 65.5928 49.4542 65.3772 49.8386C65.1709 50.2136 64.8803 50.5089 64.5053 50.7245C64.1397 50.9307 63.7178 51.0338 63.2397 51.0338C62.7616 51.0338 62.3351 50.9307 61.9601 50.7245C61.5945 50.5089 61.3039 50.2136 61.0882 49.8386C60.8726 49.4542 60.7648 49.023 60.7648 48.5449C60.7648 48.0574 60.8726 47.6261 61.0882 47.2511C61.3039 46.8762 61.5945 46.5809 61.9601 46.3652C62.3351 46.1496 62.7616 46.0418 63.2397 46.0418C63.7178 46.0418 64.1397 46.1496 64.5053 46.3652C64.8803 46.5809 65.1709 46.8762 65.3772 47.2511C65.5928 47.6261 65.7006 48.0574 65.7006 48.5449ZM64.8569 48.5449C64.8569 48.048 64.7069 47.6449 64.4069 47.3355C64.1069 47.0168 63.7178 46.8574 63.2397 46.8574C62.7616 46.8574 62.3679 47.0168 62.0585 47.3355C61.7585 47.6449 61.6085 48.048 61.6085 48.5449C61.6085 49.0417 61.7585 49.4495 62.0585 49.7683C62.3679 50.0776 62.7616 50.2323 63.2397 50.2323C63.7178 50.2323 64.1069 50.0776 64.4069 49.7683C64.7069 49.4495 64.8569 49.0417 64.8569 48.5449ZM70.8051 46.2387L63.1554 56.3071H62.1429L69.7786 46.2387H70.8051ZM72.1973 54.0009C72.1973 54.4791 72.0895 54.9103 71.8739 55.2947C71.6676 55.6696 71.377 55.965 71.002 56.1806C70.6364 56.3868 70.2145 56.4899 69.7364 56.4899C69.2583 56.4899 68.8318 56.3868 68.4568 56.1806C68.0912 55.965 67.8005 55.6696 67.5849 55.2947C67.3693 54.9103 67.2615 54.4791 67.2615 54.0009C67.2615 53.5135 67.3693 53.0822 67.5849 52.7072C67.8005 52.3322 68.0912 52.0369 68.4568 51.8213C68.8318 51.6057 69.2583 51.4979 69.7364 51.4979C70.2145 51.4979 70.6364 51.6057 71.002 51.8213C71.377 52.0369 71.6676 52.3322 71.8739 52.7072C72.0895 53.0822 72.1973 53.5135 72.1973 54.0009ZM71.3536 54.0009C71.3536 53.5041 71.2036 53.101 70.9036 52.7916C70.6036 52.4729 70.2145 52.3135 69.7364 52.3135C69.2583 52.3135 68.8646 52.4729 68.5552 52.7916C68.2552 53.101 68.1052 53.5041 68.1052 54.0009C68.1052 54.4884 68.2552 54.8915 68.5552 55.2103C68.8646 55.5197 69.2583 55.6743 69.7364 55.6743C70.2145 55.6743 70.6036 55.5197 70.9036 55.2103C71.2036 54.8915 71.3536 54.4884 71.3536 54.0009Z"
            fill="black"
          />
        </svg>
      ),
    },
    {
      title: 'Choose Green  Hosting',
      descriptions:
        'Websites need to be fast to be successful – and the quicker your website loads, the smaller its environmental impact. ',
      iconType: 'full',
      icon: (
        <svg
          width="245"
          height="110"
          viewBox="0 0 245 110"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M-0.25264 53.0256L33.6256 40.5099C41.724 37.5181 50.7349 41.0359 54.603 48.6991L56.0717 51.6089C57.5032 54.4448 59.7063 56.8154 62.4297 58.45L70.9557 63.5676C75.6201 66.3673 81.3626 66.7474 86.3929 64.5893L95.8653 60.5256L117.874 48.954C118.667 48.5372 119.426 48.059 120.145 47.5237L136.653 35.2218L143.995 29.4039C145.097 28.5303 146.303 27.7955 147.583 27.2162L153.226 24.6635C155.437 23.6634 157.833 23.145 160.252 23.143L167.383 23.137C169.582 23.1352 171.757 23.5598 173.788 24.3873L185.479 29.1514L191.048 31.5242C192.465 32.1278 193.959 32.5349 195.488 32.7345L201.532 33.523L205.947 33.5194C208.122 33.5175 210.28 33.0983 212.304 32.2843L215.744 30.9006C218.636 29.7374 221.16 27.806 223.041 25.3166L243.852 -2.229C244.359 -2.90098 244.916 -3.53484 245.516 -4.12537L247.962 -6.52975L245.565 105.841L-0.252548 106.046L-0.25264 53.0256Z"
            fill="url(#paint0_linear_1_3734)"
            fill-opacity="0.7"
          />
          <path
            d="M-0.510779 54.8387L30.0479 42.3081C39.7894 38.3135 50.9302 42.1037 56.134 51.1826L57.021 52.73C64.544 65.8553 81.4555 70.1207 94.4472 62.1696L118.671 47.3444L150.292 25.7827C156.125 21.806 163.539 20.9972 170.042 23.6283L197.861 34.8827C206.352 38.3181 216.134 35.8215 222.01 28.719L247.446 -2.02865"
            stroke="#12B76A"
            stroke-linecap="round"
          />
          <ellipse cx="78.3944" cy="64" rx="7.39441" ry="7" fill="#12B76A" />
          <ellipse cx="159.857" cy="23" rx="7.85656" ry="8" fill="#12B76A" />
          <ellipse cx="225" cy="24.5" rx="8" ry="7.5" fill="#12B76A" />
          <defs>
            <linearGradient
              id="paint0_linear_1_3734"
              x1="125.46"
              y1="-6.40524"
              x2="123.97"
              y2="109.243"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#676767" stop-opacity="0.67" />
              <stop offset="1" stop-color="#767070" stop-opacity="0" />
            </linearGradient>
          </defs>
        </svg>
      ),
    },
    {
      title: 'Utilize Web Caching',
      descriptions:
        'Websites need to be fast to be successful – and the quicker your website loads, the smaller its environmental impact. ',
      icon: (
        <svg
          width="124"
          height="51"
          viewBox="0 0 124 51"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="9" height="51" rx="4.5" fill="#E6B27C" />
          <rect
            x="28"
            y="17.6357"
            width="10"
            height="33.3645"
            rx="5"
            fill="#E6B27C"
          />
          <rect
            x="57"
            y="6.67285"
            width="10"
            height="44.3271"
            rx="5"
            fill="#E6B27C"
          />
          <rect
            x="86"
            y="15.729"
            width="9"
            height="35.271"
            rx="4.5"
            fill="#E6B27C"
          />
          <rect
            x="115"
            y="3.81299"
            width="9"
            height="47.1869"
            rx="4.5"
            fill="#E6B27C"
          />
        </svg>
      ),
    },
    {
      title: 'Improve Your SEO',
      descriptions:
        'Websites need to be fast to be successful – and the quicker your website loads, the smaller its environmental impact. ',
      icon: (
        <svg
          width="98"
          height="75"
          viewBox="0 0 98 75"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M88.2353 22.0586C81.8382 22.0586 78.2647 28.4115 79.7206 33.1321L64.0588 48.838C62.7353 48.4409 60.7941 48.4409 59.4706 48.838L48.2206 37.588C49.7206 32.8674 46.1471 26.4704 39.7059 26.4704C33.3088 26.4704 29.6912 32.8233 31.1912 37.588L11.0735 57.6615C6.35294 56.2057 0 59.7792 0 66.1762C0 71.0292 3.97059 74.9998 8.82353 74.9998C15.2206 74.9998 18.7941 68.6468 17.3382 63.9262L37.4118 43.8086C38.7353 44.2057 40.6765 44.2057 42 43.8086L53.25 55.0586C51.75 59.7792 55.3235 66.1762 61.7647 66.1762C68.1618 66.1762 71.7794 59.8233 70.2794 55.0586L85.9853 39.3968C90.7059 40.8527 97.0588 37.2792 97.0588 30.8821C97.0588 26.0292 93.0882 22.0586 88.2353 22.0586Z"
            fill="#06B496"
          />
          <path
            d="M61.7647 26.4706L65.9118 17.3382L75 13.2353L65.9118 9.13235L61.7647 0L57.7059 9.13235L48.5294 13.2353L57.7059 17.3382L61.7647 26.4706ZM11.0294 35.2941L13.2353 26.4706L22.0588 24.2647L13.2353 22.0588L11.0294 13.2353L8.82353 22.0588L0 24.2647L8.82353 26.4706L11.0294 35.2941Z"
            fill="#06B496"
          />
        </svg>
      ),
    },
  ];

  return (
    <div className={styles.container}>
      <div className={styles.heading}>Best Practices</div>
      <div className={styles.cardContainer}>
        {bestBractises.map((dat, i) => (
          <div key={i} className={styles.bpCard}>
            <div
              className={cx(
                styles.bpImg,
                dat.iconType === 'full' ? styles.full : '',
              )}
            >
              {dat.icon}
            </div>
            <div className={styles.bpTitle}>{dat.title}</div>
            <div className={styles.bpDescription}>{dat.descriptions}</div>
          </div>
        ))}
      </div>
    </div>
  );
};

export default BestPractices;
